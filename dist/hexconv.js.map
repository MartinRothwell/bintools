{"version":3,"sources":["hexconv.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_format","_conv","hex_input","document","getElementById","dec_input","bin_input","update","dec","value","format_dec","dec2hex","format_bin","dec2bin","addEventListener","hex","this","replace","hex2dec","bin","bin2dec","./lib/conv","./lib/format","2","Object","defineProperty","indexOf","parts","split","mant","j","Math","pow","reverse","join","mant_limit","isNaN","floor","bin_mant","log","charAt","toUpperCase","digit","3","mantissa","padding","repeat","trim","bits","console"],"mappings":"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","file":"hexconv.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _format = require(\"./lib/format\");\n\nvar _conv = require(\"./lib/conv\");\n\nvar hex_input = document.getElementById('hex');\nvar dec_input = document.getElementById('dec');\nvar bin_input = document.getElementById('bin');\n\nvar update = function update(dec) {\n  dec_input.value = (0, _format.format_dec)(dec);\n  hex_input.value = (0, _conv.dec2hex)(dec);\n  bin_input.value = (0, _format.format_bin)((0, _conv.dec2bin)(dec));\n};\n\nupdate('0');\nhex_input.addEventListener('input', function () {\n  var hex = this.value.replace(/[^0-9a-fA-F]/g, '');\n  var dec = (0, _conv.hex2dec)(hex);\n  update(dec);\n});\ndec_input.addEventListener('input', function () {\n  var dec = this.value.replace(/[^\\d.]/g, '');\n  update(dec);\n});\nbin_input.addEventListener('input', function () {\n  var bin = this.value.replace(/[^01.]/, '');\n  var dec = (0, _conv.bin2dec)(bin);\n  update(dec);\n});\n\n},{\"./lib/conv\":2,\"./lib/format\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hex2dec = exports.dec2hex = exports.dec2bin = exports.bin2dec = void 0;\n\n/**\n * Convert a binary string into its base 10 equivalent\n * @param {string} bin The number in base 2\n * @returns {number} The number in base 10\n */\nvar bin2dec = function bin2dec(bin) {\n  var dec = 0;\n  bin = bin.replace(/\\s/g, ''); // Convert the fractional part first\n\n  if (bin.indexOf('.') !== -1) {\n    var parts = bin.split('.');\n    var mant = parts[1];\n    bin = parts[0];\n\n    for (var j = 0; j < mant.length; ++j) {\n      if (mant[j] === '1') {\n        dec += 1 / Math.pow(2, j + 1);\n      }\n    }\n  }\n\n  bin = bin.split('').reverse().join('');\n\n  for (var i = bin.length - 1; i >= 0; --i) {\n    if (bin[i] === '1') {\n      dec += Math.pow(2, i);\n    }\n  }\n\n  return dec;\n};\n/**\n * Convert a decimal number into its binary equivalent\n * @param {number} dec The number in base 2\n * @param {number} [mant_limit] The maximum number of bits to use in the mantissa\n * @returns {string} The number in base 10\n */\n\n\nexports.bin2dec = bin2dec;\n\nvar dec2bin = function dec2bin(dec, mant_limit) {\n  var bin = [];\n  dec *= 1;\n\n  if (isNaN(dec) || dec === 0) {\n    return '0';\n  } // Convert the fractional part first\n\n\n  if (Math.floor(dec) !== dec) {\n    var bin_mant = '.';\n    var mant = dec % 1;\n\n    for (var j = 0; mant !== 0 && (!mant_limit || j < mant_limit); ++j) {\n      mant *= 2;\n      bin_mant += Math.floor(mant);\n      mant %= 1;\n    }\n\n    return dec2bin(Math.floor(dec)) + bin_mant;\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(2));\n\n  while (pow >= 0) {\n    if (dec - Math.pow(2, pow) >= 0) {\n      dec -= Math.pow(2, pow);\n      bin[pow] = '1';\n    } else {\n      bin[pow] = '0';\n    }\n\n    --pow;\n  }\n\n  return bin.reverse().join('');\n};\n/**\n * Convert a decimal number into its hexadecimal equivalent\n * @param {number} dec The number in base 10\n * @returns {string} The number in base 16\n */\n\n\nexports.dec2bin = dec2bin;\n\nvar dec2hex = function dec2hex(dec) {\n  var alpha = '0123456789ABCDEF';\n  var hex = [];\n  dec = Math.floor(dec);\n\n  if (dec === 0) {\n    return '0';\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(16));\n\n  while (pow >= 0) {\n    hex[pow] = Math.floor(dec / Math.pow(16, pow));\n    hex[pow] = alpha.charAt(hex[pow]);\n    dec %= Math.pow(16, pow);\n    --pow;\n  }\n\n  return hex.reverse().join('');\n};\n/**\n * Convert a hexadecimal number into its decimal equivalent\n * @param {string} hex The number in base 16\n * @returns {number} The number in base 10\n */\n\n\nexports.dec2hex = dec2hex;\n\nvar hex2dec = function hex2dec(hex) {\n  var alpha = '0123456789ABCDEF';\n  var dec = 0;\n  hex = hex.toUpperCase();\n  hex = hex.split('').reverse().join('');\n\n  for (var i = hex.length - 1; i >= 0; --i) {\n    var digit = alpha.indexOf(hex[i]);\n    dec += Math.pow(16, i) * digit;\n  }\n\n  return dec;\n};\n\nexports.hex2dec = hex2dec;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.format_bin = exports.format_dec = void 0;\n\n/**\n * Format a decimal number for display.\n * Adds column separators and removes leading zeros.\n *\n * @param {string} dec The unformatted decimal number\n * @returns {string} The formatted number\n */\nvar format_dec = function format_dec(dec) {\n  var mantissa = ''; // convert to string\n\n  dec += ''; // remove columns\n\n  dec = dec.replace(/\\s/g, ''); // remove mantissa\n\n  if (dec.indexOf('.') !== -1) {\n    var parts = dec.split('.');\n    mantissa += '.' + parts[1];\n    dec = parts[0];\n  } // remove leading zeros\n\n\n  dec = dec.replace(/^0+([1-9])/, '$1'); // add columns\n\n  var padding = 3 - dec.length % 3;\n  if (padding === 3) padding = 0;\n  dec = ' '.repeat(padding) + dec;\n  dec = dec.replace(/(.{3})/g, '$1 ').trim();\n  return dec + mantissa;\n};\n/**\n * Format a binary number by padding it out with zeros and adding column separators\n * @param {string} bin The unformatted binary number\n * @param {number} [bits] Force number to occupy a set number of bits\n * @returns {string} The formatted binary number\n */\n\n\nexports.format_dec = format_dec;\n\nvar format_bin = function format_bin(bin, bits) {\n  var mantissa = '';\n  bin += ''; // remove columns\n\n  bin = bin.replace(/\\s/g, ''); // remove mantissa\n\n  if (bin.indexOf('.') !== -1) {\n    var parts = bin.split('.');\n    console.log(parts);\n    mantissa = '.' + parts[1];\n    bin = parts[0];\n  } // remove leading zeros\n\n\n  bin = bin.replace(/^0+([^0])/, '$1');\n  var padding = 0;\n\n  if (bits) {\n    padding = bits - bin.length;\n  } else {\n    padding = 4 - bin.length % 4;\n    if (padding === 4) padding = 0;\n  }\n\n  bin = '0'.repeat(padding) + bin;\n  bin = bin.replace(/(.{4})/g, '$1 ').trim();\n  return bin + mantissa;\n};\n\nexports.format_bin = format_bin;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9oZXhjb252LmpzIiwianMvbGliL2NvbnYuanMiLCJqcy9saWIvZm9ybWF0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFFQSxJQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixLQUF4QixDQUFsQjtBQUNBLElBQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLEtBQXhCLENBQWxCO0FBQ0EsSUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBbEI7O0FBRUEsSUFBTSxNQUFNLEdBQUcsU0FBVCxNQUFTLENBQUMsR0FBRCxFQUFTO0FBQ3ZCLEVBQUEsU0FBUyxDQUFDLEtBQVYsR0FBa0Isd0JBQVcsR0FBWCxDQUFsQjtBQUNBLEVBQUEsU0FBUyxDQUFDLEtBQVYsR0FBa0IsbUJBQVEsR0FBUixDQUFsQjtBQUNBLEVBQUEsU0FBUyxDQUFDLEtBQVYsR0FBa0Isd0JBQVcsbUJBQVEsR0FBUixDQUFYLENBQWxCO0FBQ0EsQ0FKRDs7QUFNQSxNQUFNLENBQUMsR0FBRCxDQUFOO0FBRUEsU0FBUyxDQUFDLGdCQUFWLENBQTJCLE9BQTNCLEVBQW9DLFlBQVk7QUFDL0MsTUFBSSxHQUFHLEdBQUcsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixlQUFuQixFQUFvQyxFQUFwQyxDQUFWO0FBQ0EsTUFBSSxHQUFHLEdBQUcsbUJBQVEsR0FBUixDQUFWO0FBQ0EsRUFBQSxNQUFNLENBQUMsR0FBRCxDQUFOO0FBQ0EsQ0FKRDtBQU1BLFNBQVMsQ0FBQyxnQkFBVixDQUEyQixPQUEzQixFQUFvQyxZQUFZO0FBQy9DLE1BQUksR0FBRyxHQUFHLEtBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsU0FBbkIsRUFBOEIsRUFBOUIsQ0FBVjtBQUNBLEVBQUEsTUFBTSxDQUFDLEdBQUQsQ0FBTjtBQUNBLENBSEQ7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LE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBWjtBQUNBLElBQUEsUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUFDLENBQUQsQ0FBdEI7QUFDQSxJQUFBLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBRCxDQUFYO0FBQ0EsR0FidUMsQ0FleEM7OztBQUNBLEVBQUEsR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFKLENBQVksV0FBWixFQUF5QixJQUF6QixDQUFOO0FBRUEsTUFBSSxPQUFPLEdBQUcsQ0FBZDs7QUFFQSxNQUFJLElBQUosRUFBVTtBQUNULElBQUEsT0FBTyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsTUFBckI7QUFDQSxHQUZELE1BRU87QUFDTixJQUFBLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFKLEdBQWEsQ0FBM0I7QUFDQSxRQUFJLE9BQU8sS0FBSyxDQUFoQixFQUFtQixPQUFPLEdBQUcsQ0FBVjtBQUNuQjs7QUFFRCxFQUFBLEdBQUcsR0FBRyxJQUFJLE1BQUosQ0FBVyxPQUFYLElBQXNCLEdBQTVCO0FBQ0EsRUFBQSxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQUosQ0FBWSxTQUFaLEVBQXVCLEtBQXZCLEVBQThCLElBQTlCLEVBQU47QUFFQSxTQUFPLEdBQUcsR0FBRyxRQUFiO0FBQ0EsQ0EvQk0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQge2Zvcm1hdF9iaW4sIGZvcm1hdF9kZWN9IGZyb20gJy4vbGliL2Zvcm1hdCc7XG5pbXBvcnQge2RlYzJoZXgsIGhleDJkZWMsIGRlYzJiaW4sIGJpbjJkZWN9IGZyb20gJy4vbGliL2NvbnYnO1xuXG5jb25zdCBoZXhfaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGV4Jyk7XG5jb25zdCBkZWNfaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVjJyk7XG5jb25zdCBiaW5faW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmluJyk7XG5cbmNvbnN0IHVwZGF0ZSA9IChkZWMpID0+IHtcblx0ZGVjX2lucHV0LnZhbHVlID0gZm9ybWF0X2RlYyhkZWMpO1xuXHRoZXhfaW5wdXQudmFsdWUgPSBkZWMyaGV4KGRlYyk7XG5cdGJpbl9pbnB1dC52YWx1ZSA9IGZvcm1hdF9iaW4oZGVjMmJpbihkZWMpKTtcbn07XG5cbnVwZGF0ZSgnMCcpO1xuXG5oZXhfaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdGxldCBoZXggPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teMC05YS1mQS1GXS9nLCAnJyk7XG5cdGxldCBkZWMgPSBoZXgyZGVjKGhleCk7XG5cdHVwZGF0ZShkZWMpO1xufSk7XG5cbmRlY19pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblx0bGV0IGRlYyA9IHRoaXMudmFsdWUucmVwbGFjZSgvW15cXGQuXS9nLCAnJyk7XG5cdHVwZGF0ZShkZWMpO1xufSk7XG5cbmJpbl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblx0bGV0IGJpbiA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wMS5dLywgJycpO1xuXHRsZXQgZGVjID0gYmluMmRlYyhiaW4pO1xuXHR1cGRhdGUoZGVjKTtcbn0pO1xuIiwiXG4vKipcbiAqIENvbnZlcnQgYSBiaW5hcnkgc3RyaW5nIGludG8gaXRzIGJhc2UgMTAgZXF1aXZhbGVudFxuICogQHBhcmFtIHtzdHJpbmd9IGJpbiBUaGUgbnVtYmVyIGluIGJhc2UgMlxuICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBpbiBiYXNlIDEwXG4gKi9cbmV4cG9ydCBjb25zdCBiaW4yZGVjID0gKGJpbikgPT4ge1xuXHRsZXQgZGVjID0gMDtcblx0YmluID0gYmluLnJlcGxhY2UoL1xccy9nLCAnJyk7XG5cblx0Ly8gQ29udmVydCB0aGUgZnJhY3Rpb25hbCBwYXJ0IGZpcnN0XG5cdGlmIChiaW4uaW5kZXhPZignLicpICE9PSAtMSkge1xuXHRcdGxldCBwYXJ0cyA9IGJpbi5zcGxpdCgnLicpO1xuXHRcdGxldCBtYW50ID0gcGFydHNbMV07XG5cdFx0YmluID0gcGFydHNbMF07XG5cblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG1hbnQubGVuZ3RoOyArK2opIHtcblx0XHRcdGlmIChtYW50W2pdID09PSAnMScpIHtcblx0XHRcdFx0ZGVjICs9IDEvTWF0aC5wb3coMiwgaisxKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRiaW4gPSBiaW4uc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcblxuXHRmb3IgKGxldCBpID0gYmluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cblx0XHRpZiAoYmluW2ldID09PSAnMScpIHtcblx0XHRcdGRlYyArPSBNYXRoLnBvdygyLCBpKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZGVjO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGVjaW1hbCBudW1iZXIgaW50byBpdHMgYmluYXJ5IGVxdWl2YWxlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWMgVGhlIG51bWJlciBpbiBiYXNlIDJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWFudF9saW1pdF0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGJpdHMgdG8gdXNlIGluIHRoZSBtYW50aXNzYVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIG51bWJlciBpbiBiYXNlIDEwXG4gKi9cbmV4cG9ydCBjb25zdCBkZWMyYmluID0gKGRlYywgbWFudF9saW1pdCkgPT4ge1xuXHRsZXQgYmluID0gW107XG5cdGRlYyAqPSAxO1xuXG5cdGlmIChpc05hTihkZWMpIHx8IGRlYyA9PT0gMCkge1xuXHRcdHJldHVybiAnMCc7XG5cdH1cblxuXHQvLyBDb252ZXJ0IHRoZSBmcmFjdGlvbmFsIHBhcnQgZmlyc3Rcblx0aWYgKE1hdGguZmxvb3IoZGVjKSAhPT0gZGVjKSB7XG5cdFx0bGV0IGJpbl9tYW50ID0gJy4nO1xuXHRcdGxldCBtYW50ID0gZGVjICUgMTtcblxuXHRcdGZvciAobGV0IGogPSAwOyBtYW50ICE9PSAwICYmICghbWFudF9saW1pdCB8fCBqIDwgbWFudF9saW1pdCk7ICsraikge1xuXHRcdFx0bWFudCAqPSAyO1xuXHRcdFx0YmluX21hbnQgKz0gTWF0aC5mbG9vcihtYW50KTtcblx0XHRcdG1hbnQgJT0gMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVjMmJpbihNYXRoLmZsb29yKGRlYykpICsgYmluX21hbnQ7XG5cdH1cblxuXHQvLyBmaW5kIGJpZ2dlc3Qgc2lnbmlmaWNhbnQgZmlndXJlXG5cdGxldCBwb3cgPSBNYXRoLmZsb29yKE1hdGgubG9nKGRlYykvTWF0aC5sb2coMikpO1xuXG5cdHdoaWxlIChwb3cgPj0gMCkge1xuXHRcdGlmIChkZWMgLSBNYXRoLnBvdygyLCBwb3cpID49IDApIHtcblx0XHRcdGRlYyAtPSBNYXRoLnBvdygyLCBwb3cpO1xuXHRcdFx0YmluW3Bvd10gPSAnMSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGJpbltwb3ddID0gJzAnO1xuXHRcdH1cblxuXHRcdC0tcG93O1xuXHR9XG5cblx0cmV0dXJuIGJpbi5yZXZlcnNlKCkuam9pbignJyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBkZWNpbWFsIG51bWJlciBpbnRvIGl0cyBoZXhhZGVjaW1hbCBlcXVpdmFsZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZGVjIFRoZSBudW1iZXIgaW4gYmFzZSAxMFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIG51bWJlciBpbiBiYXNlIDE2XG4gKi9cbmV4cG9ydCBjb25zdCBkZWMyaGV4ID0gKGRlYykgPT4ge1xuXHRjb25zdCBhbHBoYSA9ICcwMTIzNDU2Nzg5QUJDREVGJztcblx0bGV0IGhleCA9IFtdO1xuXHRkZWMgPSBNYXRoLmZsb29yKGRlYyk7XG5cblx0aWYgKGRlYyA9PT0gMCkge1xuXHRcdHJldHVybiAnMCc7XG5cdH1cblxuXHQvLyBmaW5kIGJpZ2dlc3Qgc2lnbmlmaWNhbnQgZmlndXJlXG5cdGxldCBwb3cgPSBNYXRoLmZsb29yKE1hdGgubG9nKGRlYykvTWF0aC5sb2coMTYpKTtcblxuXHR3aGlsZSAocG93ID49IDApIHtcblx0XHRoZXhbcG93XSA9IE1hdGguZmxvb3IoZGVjIC8gTWF0aC5wb3coMTYsIHBvdykpO1xuXHRcdGhleFtwb3ddID0gYWxwaGEuY2hhckF0KGhleFtwb3ddKTtcblx0XHRkZWMgJT0gTWF0aC5wb3coMTYsIHBvdyk7XG5cdFx0LS1wb3c7XG5cdH1cblxuXHRyZXR1cm4gaGV4LnJldmVyc2UoKS5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ29udmVydCBhIGhleGFkZWNpbWFsIG51bWJlciBpbnRvIGl0cyBkZWNpbWFsIGVxdWl2YWxlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZXggVGhlIG51bWJlciBpbiBiYXNlIDE2XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbnVtYmVyIGluIGJhc2UgMTBcbiAqL1xuZXhwb3J0IGNvbnN0IGhleDJkZWMgPSAoaGV4KSA9PiB7XG5cdGNvbnN0IGFscGhhID0gJzAxMjM0NTY3ODlBQkNERUYnO1xuXHRsZXQgZGVjID0gMDtcblx0aGV4ID0gaGV4LnRvVXBwZXJDYXNlKCk7XG5cdGhleCA9IGhleC5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpO1xuXG5cdGZvciAobGV0IGkgPSBoZXgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0XHRsZXQgZGlnaXQgPSBhbHBoYS5pbmRleE9mKGhleFtpXSk7XG5cdFx0ZGVjICs9IE1hdGgucG93KDE2LCBpKSAqIGRpZ2l0O1xuXHR9XG5cblx0cmV0dXJuIGRlYztcbn07XG4iLCJcbi8qKlxuICogRm9ybWF0IGEgZGVjaW1hbCBudW1iZXIgZm9yIGRpc3BsYXkuXG4gKiBBZGRzIGNvbHVtbiBzZXBhcmF0b3JzIGFuZCByZW1vdmVzIGxlYWRpbmcgemVyb3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRlYyBUaGUgdW5mb3JtYXR0ZWQgZGVjaW1hbCBudW1iZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgbnVtYmVyXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRfZGVjID0gKGRlYykgPT4ge1xuXHRsZXQgbWFudGlzc2EgPSAnJztcblxuXHQvLyBjb252ZXJ0IHRvIHN0cmluZ1xuXHRkZWMgKz0gJyc7XG5cblx0Ly8gcmVtb3ZlIGNvbHVtbnNcblx0ZGVjID0gZGVjLnJlcGxhY2UoL1xccy9nLCAnJyk7XG5cblx0Ly8gcmVtb3ZlIG1hbnRpc3NhXG5cdGlmIChkZWMuaW5kZXhPZignLicpICE9PSAtMSkge1xuXHRcdGxldCBwYXJ0cyA9IGRlYy5zcGxpdCgnLicpO1xuXHRcdG1hbnRpc3NhICs9ICcuJyArIHBhcnRzWzFdO1xuXHRcdGRlYyA9IHBhcnRzWzBdO1xuXHR9XG5cblx0Ly8gcmVtb3ZlIGxlYWRpbmcgemVyb3Ncblx0ZGVjID0gZGVjLnJlcGxhY2UoL14wKyhbMS05XSkvLCAnJDEnKTtcblxuXHQvLyBhZGQgY29sdW1uc1xuXHRsZXQgcGFkZGluZyA9IDMgLSBkZWMubGVuZ3RoICUgMztcblx0aWYgKHBhZGRpbmcgPT09IDMpIHBhZGRpbmcgPSAwO1xuXHRkZWMgPSAnICcucmVwZWF0KHBhZGRpbmcpICsgZGVjO1xuXHRkZWMgPSBkZWMucmVwbGFjZSgvKC57M30pL2csICckMSAnKS50cmltKCk7XG5cblx0cmV0dXJuIGRlYyArIG1hbnRpc3NhO1xufTtcblxuLyoqXG4gKiBGb3JtYXQgYSBiaW5hcnkgbnVtYmVyIGJ5IHBhZGRpbmcgaXQgb3V0IHdpdGggemVyb3MgYW5kIGFkZGluZyBjb2x1bW4gc2VwYXJhdG9yc1xuICogQHBhcmFtIHtzdHJpbmd9IGJpbiBUaGUgdW5mb3JtYXR0ZWQgYmluYXJ5IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFtiaXRzXSBGb3JjZSBudW1iZXIgdG8gb2NjdXB5IGEgc2V0IG51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIGJpbmFyeSBudW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdF9iaW4gPSAoYmluLCBiaXRzKSA9PiB7XG5cdGxldCBtYW50aXNzYSA9ICcnO1xuXHRiaW4gKz0gJyc7XG5cblx0Ly8gcmVtb3ZlIGNvbHVtbnNcblx0YmluID0gYmluLnJlcGxhY2UoL1xccy9nLCAnJyk7XG5cblx0Ly8gcmVtb3ZlIG1hbnRpc3NhXG5cdGlmIChiaW4uaW5kZXhPZignLicpICE9PSAtMSkge1xuXHRcdGxldCBwYXJ0cyA9IGJpbi5zcGxpdCgnLicpO1xuXHRcdGNvbnNvbGUubG9nKHBhcnRzKTtcblx0XHRtYW50aXNzYSA9ICcuJyArIHBhcnRzWzFdO1xuXHRcdGJpbiA9IHBhcnRzWzBdO1xuXHR9XG5cblx0Ly8gcmVtb3ZlIGxlYWRpbmcgemVyb3Ncblx0YmluID0gYmluLnJlcGxhY2UoL14wKyhbXjBdKS8sICckMScpO1xuXG5cdGxldCBwYWRkaW5nID0gMDtcblxuXHRpZiAoYml0cykge1xuXHRcdHBhZGRpbmcgPSBiaXRzIC0gYmluLmxlbmd0aDtcblx0fSBlbHNlIHtcblx0XHRwYWRkaW5nID0gNCAtIGJpbi5sZW5ndGggJSA0O1xuXHRcdGlmIChwYWRkaW5nID09PSA0KSBwYWRkaW5nID0gMDtcblx0fVxuXG5cdGJpbiA9ICcwJy5yZXBlYXQocGFkZGluZykgKyBiaW47XG5cdGJpbiA9IGJpbi5yZXBsYWNlKC8oLns0fSkvZywgJyQxICcpLnRyaW0oKTtcblxuXHRyZXR1cm4gYmluICsgbWFudGlzc2E7XG59O1xuIl19\n"]}