{"version":3,"names":[],"mappings":"","sources":["twos.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hex2dec = exports.dec2hex = exports.dec2bin = exports.bin2dec = void 0;\n\n/**\n * Convert a binary string into its base 10 equivalent\n * @param {string} bin The number in base 2\n * @returns {number} The number in base 10\n */\nvar bin2dec = function bin2dec(bin) {\n  var dec = 0;\n  bin = bin.replace(/\\s/g, ''); // Convert the fractional part first\n\n  if (bin.indexOf('.') !== -1) {\n    var parts = bin.split('.');\n    var mant = parts[1];\n    bin = parts[0];\n\n    for (var j = 0; j < mant.length; ++j) {\n      if (mant[j] === '1') {\n        dec += 1 / Math.pow(2, j + 1);\n      }\n    }\n  }\n\n  bin = bin.split('').reverse().join('');\n\n  for (var i = bin.length - 1; i >= 0; --i) {\n    if (bin[i] === '1') {\n      dec += Math.pow(2, i);\n    }\n  }\n\n  return dec;\n};\n/**\n * Convert a decimal number into its binary equivalent\n * @param {number} dec The number in base 2\n * @param {number} [mant_limit] The maximum number of bits to use in the mantissa\n * @returns {string} The number in base 10\n */\n\n\nexports.bin2dec = bin2dec;\n\nvar dec2bin = function dec2bin(dec, mant_limit) {\n  var bin = [];\n  dec *= 1;\n\n  if (isNaN(dec) || dec === 0) {\n    return '0';\n  } // Convert the fractional part first\n\n\n  if (Math.floor(dec) !== dec) {\n    var bin_mant = '.';\n    var mant = dec % 1;\n\n    for (var j = 0; mant !== 0 && (!mant_limit || j < mant_limit); ++j) {\n      mant *= 2;\n      bin_mant += Math.floor(mant);\n      mant %= 1;\n    }\n\n    return dec2bin(Math.floor(dec)) + bin_mant;\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(2));\n\n  while (pow >= 0) {\n    if (dec - Math.pow(2, pow) >= 0) {\n      dec -= Math.pow(2, pow);\n      bin[pow] = '1';\n    } else {\n      bin[pow] = '0';\n    }\n\n    --pow;\n  }\n\n  return bin.reverse().join('');\n};\n/**\n * Convert a decimal number into its hexadecimal equivalent\n * @param {number} dec The number in base 10\n * @returns {string} The number in base 16\n */\n\n\nexports.dec2bin = dec2bin;\n\nvar dec2hex = function dec2hex(dec) {\n  var alpha = '0123456789ABCDEF';\n  var hex = [];\n  dec = Math.floor(dec);\n\n  if (dec === 0) {\n    return '0';\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(16));\n\n  while (pow >= 0) {\n    hex[pow] = Math.floor(dec / Math.pow(16, pow));\n    hex[pow] = alpha.charAt(hex[pow]);\n    dec %= Math.pow(16, pow);\n    --pow;\n  }\n\n  return hex.reverse().join('');\n};\n/**\n * Convert a hexadecimal number into its decimal equivalent\n * @param {string} hex The number in base 16\n * @returns {number} The number in base 10\n */\n\n\nexports.dec2hex = dec2hex;\n\nvar hex2dec = function hex2dec(hex) {\n  var alpha = '0123456789ABCDEF';\n  var dec = 0;\n  hex = hex.toUpperCase();\n  hex = hex.split('').reverse().join('');\n\n  for (var i = hex.length - 1; i >= 0; --i) {\n    var digit = alpha.indexOf(hex[i]);\n    dec += Math.pow(16, i) * digit;\n  }\n\n  return dec;\n};\n\nexports.hex2dec = hex2dec;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.format_bin = exports.format_dec = void 0;\n\n/**\n * Format a decimal number for display.\n * Adds column separators and removes leading zeros.\n *\n * @param {string} dec The unformatted decimal number\n * @returns {string} The formatted number\n */\nvar format_dec = function format_dec(dec) {\n  var mantissa = ''; // convert to string\n\n  dec += ''; // remove columns\n\n  dec = dec.replace(/\\s/g, ''); // remove mantissa\n\n  if (dec.indexOf('.') !== -1) {\n    var parts = dec.split('.');\n    mantissa += '.' + parts[1];\n    dec = parts[0];\n  } // remove leading zeros\n\n\n  dec = dec.replace(/^0+([1-9])/, '$1'); // add columns\n\n  var padding = 3 - dec.length % 3;\n  if (padding === 3) padding = 0;\n  dec = ' '.repeat(padding) + dec;\n  dec = dec.replace(/(.{3})/g, '$1 ').trim();\n  return dec + mantissa;\n};\n/**\n * Format a binary number by padding it out with zeros and adding column separators\n * @param {string} bin The unformatted binary number\n * @param {number} [bits] Force number to occupy a set number of bits\n * @returns {string} The formatted binary number\n */\n\n\nexports.format_dec = format_dec;\n\nvar format_bin = function format_bin(bin, bits) {\n  var mantissa = '';\n  bin += ''; // remove columns\n\n  bin = bin.replace(/\\s/g, ''); // remove mantissa\n\n  if (bin.indexOf('.') !== -1) {\n    var parts = bin.split('.');\n    console.log(parts);\n    mantissa = '.' + parts[1];\n    bin = parts[0];\n  } // remove leading zeros\n\n\n  bin = bin.replace(/^0+([^0])/, '$1');\n  var padding = 0;\n\n  if (bits) {\n    padding = bits - bin.length;\n  } else {\n    padding = 4 - bin.length % 4;\n    if (padding === 4) padding = 0;\n  }\n\n  bin = '0'.repeat(padding) + bin;\n  bin = bin.replace(/(.{4})/g, '$1 ').trim();\n  return bin + mantissa;\n};\n\nexports.format_bin = format_bin;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.twoscomp = void 0;\n\n/**\n * Find the two's complement of a binary number\n * @param {string} bin The original decimal number\n * @returns {string} The two's complement\n */\nvar twoscomp = function twoscomp(bin) {\n  var orig = bin.split('').reverse();\n  var bits = orig.length;\n  var comp = [];\n  var i = 0;\n\n  while (i < bits && orig[i] !== '1') {\n    comp[i] = orig[i];\n    ++i;\n  }\n\n  if (i >= bits) {\n    return comp.reverse().join('');\n  }\n\n  comp[i] = '1';\n  ++i;\n\n  while (i < bits) {\n    if (orig[i] === '1') {\n      comp[i] = '0';\n    } else if (orig[i] === '0') {\n      comp[i] = '1';\n    } else {\n      comp[i] = orig[i];\n    }\n\n    ++i;\n  }\n\n  return comp.reverse().join('');\n};\n\nexports.twoscomp = twoscomp;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _format = require(\"./lib/format\");\n\nvar _conv = require(\"./lib/conv\");\n\nvar _twoscomp = require(\"./lib/twoscomp\");\n\nvar orig_bin = document.getElementById('orig_binary');\nvar orig_dec = document.getElementById('orig_decimal');\nvar comp_bin = document.getElementById('comp_binary');\nvar comp_dec = document.getElementById('comp_decimal');\norig_bin.addEventListener('input', function () {\n  var binary = (0, _format.format_bin)(this.value);\n  var decimal = (0, _conv.bin2dec)(binary);\n  var comp = (0, _twoscomp.twoscomp)(binary);\n  orig_bin.value = binary;\n  comp_bin.value = comp;\n  orig_dec.value = decimal;\n  comp_dec.value = decimal * -1;\n});\ncomp_bin.addEventListener('input', function () {\n  var comp = (0, _format.format_bin)(this.value);\n  var binary = (0, _twoscomp.twoscomp)(comp);\n  var decimal = (0, _conv.bin2dec)(binary);\n  orig_bin.value = binary;\n  comp_bin.value = comp;\n  orig_dec.value = decimal;\n  comp_dec.value = decimal * -1;\n});\norig_dec.addEventListener('input', function () {\n  var decimal = this.value * 1;\n  if (isNaN(decimal)) return;\n  var binary = (0, _format.format_bin)((0, _conv.dec2bin)(decimal));\n  var comp = (0, _twoscomp.twoscomp)(binary);\n  orig_bin.value = binary;\n  comp_bin.value = comp;\n  comp_dec.value = decimal * -1;\n});\ncomp_dec.addEventListener('input', function () {\n  var decimal = this.value * -1;\n  if (isNaN(decimal)) return;\n  var binary = (0, _format.format_bin)((0, _conv.dec2bin)(decimal));\n  var comp = (0, _twoscomp.twoscomp)(binary);\n  orig_bin.value = binary;\n  comp_bin.value = comp;\n  orig_dec.value = decimal;\n});\n\n},{\"./lib/conv\":1,\"./lib/format\":2,\"./lib/twoscomp\":3}]},{},[4])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9saWIvY29udi5qcyIsImpzL2xpYi9mb3JtYXQuanMiLCJqcy9saWIvdHdvc2NvbXAuanMiLCJqcy90d29zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0NBOzs7OztBQUtPLElBQU0sT0FBTyxHQUFHLFNBQVYsT0FBVSxDQUFDLEdBQUQsRUFBUztBQUMvQixNQUFJLEdBQUcsR0FBRyxDQUFWO0FBQ0EsRUFBQSxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQUosQ0FBWSxLQUFaLEVBQW1CLEVBQW5CLENBQU4sQ0FGK0IsQ0FJL0I7O0FBQ0EsTUFBSSxHQUFHLENBQUMsT0FBSixDQUFZLEdBQVosTUFBcUIsQ0FBQyxDQUExQixFQUE2QjtBQUM1QixRQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSixDQUFVLEdBQVYsQ0FBWjtBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFELENBQWhCO0FBQ0EsSUFBQSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUQsQ0FBWDs7QUFFQSxTQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUF6QixFQUFpQyxFQUFFLENBQW5DLEVBQXNDO0FBQ3JDLFVBQUksSUFBSSxDQUFDLENBQUQsQ0FBSixLQUFZLEdBQWhCLEVBQXFCO0FBQ3BCLFFBQUEsR0FBRyxJQUFJLElBQUUsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFULEVBQVksQ0FBQyxHQUFDLENBQWQsQ0FBVDtBQUNBO0FBQ0Q7QUFDRDs7QUFFRCxFQUFBLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSixDQUFVLEVBQVYsRUFBYyxPQUFkLEdBQXdCLElBQXhCLENBQTZCLEVBQTdCLENBQU47O0FBRUEsT0FBSyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBSixHQUFhLENBQTFCLEVBQTZCLENBQUMsSUFBSSxDQUFsQyxF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QVk7QUFDOUMsTUFBSSxPQUFPLEdBQUcsS0FBSyxLQUFMLEdBQWEsQ0FBQyxDQUE1QjtBQUNBLE1BQUksS0FBSyxDQUFDLE9BQUQsQ0FBVCxFQUFvQjtBQUVwQixNQUFJLE1BQU0sR0FBRyx3QkFBVyxtQkFBUSxPQUFSLENBQVgsQ0FBYjtBQUNBLE1BQUksSUFBSSxHQUFHLHdCQUFTLE1BQVQsQ0FBWDtBQUVBLEVBQUEsUUFBUSxDQUFDLEtBQVQsR0FBaUIsTUFBakI7QUFDQSxFQUFBLFFBQVEsQ0FBQyxLQUFULEdBQWlCLElBQWpCO0FBQ0EsRUFBQSxRQUFRLENBQUMsS0FBVCxHQUFpQixPQUFqQjtBQUNBLENBVkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcbi8qKlxuICogQ29udmVydCBhIGJpbmFyeSBzdHJpbmcgaW50byBpdHMgYmFzZSAxMCBlcXVpdmFsZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYmluIFRoZSBudW1iZXIgaW4gYmFzZSAyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbnVtYmVyIGluIGJhc2UgMTBcbiAqL1xuZXhwb3J0IGNvbnN0IGJpbjJkZWMgPSAoYmluKSA9PiB7XG5cdGxldCBkZWMgPSAwO1xuXHRiaW4gPSBiaW4ucmVwbGFjZSgvXFxzL2csICcnKTtcblxuXHQvLyBDb252ZXJ0IHRoZSBmcmFjdGlvbmFsIHBhcnQgZmlyc3Rcblx0aWYgKGJpbi5pbmRleE9mKCcuJykgIT09IC0xKSB7XG5cdFx0bGV0IHBhcnRzID0gYmluLnNwbGl0KCcuJyk7XG5cdFx0bGV0IG1hbnQgPSBwYXJ0c1sxXTtcblx0XHRiaW4gPSBwYXJ0c1swXTtcblxuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgbWFudC5sZW5ndGg7ICsraikge1xuXHRcdFx0aWYgKG1hbnRbal0gPT09ICcxJykge1xuXHRcdFx0XHRkZWMgKz0gMS9NYXRoLnBvdygyLCBqKzEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGJpbiA9IGJpbi5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpO1xuXG5cdGZvciAobGV0IGkgPSBiaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblxuXHRcdGlmIChiaW5baV0gPT09ICcxJykge1xuXHRcdFx0ZGVjICs9IE1hdGgucG93KDIsIGkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkZWM7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBkZWNpbWFsIG51bWJlciBpbnRvIGl0cyBiaW5hcnkgZXF1aXZhbGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGRlYyBUaGUgbnVtYmVyIGluIGJhc2UgMlxuICogQHBhcmFtIHtudW1iZXJ9IFttYW50X2xpbWl0XSBUaGUgbWF4aW11bSBudW1iZXIgb2YgYml0cyB0byB1c2UgaW4gdGhlIG1hbnRpc3NhXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbnVtYmVyIGluIGJhc2UgMTBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlYzJiaW4gPSAoZGVjLCBtYW50X2xpbWl0KSA9PiB7XG5cdGxldCBiaW4gPSBbXTtcblx0ZGVjICo9IDE7XG5cblx0aWYgKGlzTmFOKGRlYykgfHwgZGVjID09PSAwKSB7XG5cdFx0cmV0dXJuICcwJztcblx0fVxuXG5cdC8vIENvbnZlcnQgdGhlIGZyYWN0aW9uYWwgcGFydCBmaXJzdFxuXHRpZiAoTWF0aC5mbG9vcihkZWMpICE9PSBkZWMpIHtcblx0XHRsZXQgYmluX21hbnQgPSAnLic7XG5cdFx0bGV0IG1hbnQgPSBkZWMgJSAxO1xuXG5cdFx0Zm9yIChsZXQgaiA9IDA7IG1hbnQgIT09IDAgJiYgKCFtYW50X2xpbWl0IHx8IGogPCBtYW50X2xpbWl0KTsgKytqKSB7XG5cdFx0XHRtYW50ICo9IDI7XG5cdFx0XHRiaW5fbWFudCArPSBNYXRoLmZsb29yKG1hbnQpO1xuXHRcdFx0bWFudCAlPSAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWMyYmluKE1hdGguZmxvb3IoZGVjKSkgKyBiaW5fbWFudDtcblx0fVxuXG5cdC8vIGZpbmQgYmlnZ2VzdCBzaWduaWZpY2FudCBmaWd1cmVcblx0bGV0IHBvdyA9IE1hdGguZmxvb3IoTWF0aC5sb2coZGVjKS9NYXRoLmxvZygyKSk7XG5cblx0d2hpbGUgKHBvdyA+PSAwKSB7XG5cdFx0aWYgKGRlYyAtIE1hdGgucG93KDIsIHBvdykgPj0gMCkge1xuXHRcdFx0ZGVjIC09IE1hdGgucG93KDIsIHBvdyk7XG5cdFx0XHRiaW5bcG93XSA9ICcxJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0YmluW3Bvd10gPSAnMCc7XG5cdFx0fVxuXG5cdFx0LS1wb3c7XG5cdH1cblxuXHRyZXR1cm4gYmluLnJldmVyc2UoKS5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ29udmVydCBhIGRlY2ltYWwgbnVtYmVyIGludG8gaXRzIGhleGFkZWNpbWFsIGVxdWl2YWxlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWMgVGhlIG51bWJlciBpbiBiYXNlIDEwXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbnVtYmVyIGluIGJhc2UgMTZcbiAqL1xuZXhwb3J0IGNvbnN0IGRlYzJoZXggPSAoZGVjKSA9PiB7XG5cdGNvbnN0IGFscGhhID0gJzAxMjM0NTY3ODlBQkNERUYnO1xuXHRsZXQgaGV4ID0gW107XG5cdGRlYyA9IE1hdGguZmxvb3IoZGVjKTtcblxuXHRpZiAoZGVjID09PSAwKSB7XG5cdFx0cmV0dXJuICcwJztcblx0fVxuXG5cdC8vIGZpbmQgYmlnZ2VzdCBzaWduaWZpY2FudCBmaWd1cmVcblx0bGV0IHBvdyA9IE1hdGguZmxvb3IoTWF0aC5sb2coZGVjKS9NYXRoLmxvZygxNikpO1xuXG5cdHdoaWxlIChwb3cgPj0gMCkge1xuXHRcdGhleFtwb3ddID0gTWF0aC5mbG9vcihkZWMgLyBNYXRoLnBvdygxNiwgcG93KSk7XG5cdFx0aGV4W3Bvd10gPSBhbHBoYS5jaGFyQXQoaGV4W3Bvd10pO1xuXHRcdGRlYyAlPSBNYXRoLnBvdygxNiwgcG93KTtcblx0XHQtLXBvdztcblx0fVxuXG5cdHJldHVybiBoZXgucmV2ZXJzZSgpLmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgaGV4YWRlY2ltYWwgbnVtYmVyIGludG8gaXRzIGRlY2ltYWwgZXF1aXZhbGVudFxuICogQHBhcmFtIHtzdHJpbmd9IGhleCBUaGUgbnVtYmVyIGluIGJhc2UgMTZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBudW1iZXIgaW4gYmFzZSAxMFxuICovXG5leHBvcnQgY29uc3QgaGV4MmRlYyA9IChoZXgpID0+IHtcblx0Y29uc3QgYWxwaGEgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG5cdGxldCBkZWMgPSAwO1xuXHRoZXggPSBoZXgudG9VcHBlckNhc2UoKTtcblx0aGV4ID0gaGV4LnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG5cblx0Zm9yIChsZXQgaSA9IGhleC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuXHRcdGxldCBkaWdpdCA9IGFscGhhLmluZGV4T2YoaGV4W2ldKTtcblx0XHRkZWMgKz0gTWF0aC5wb3coMTYsIGkpICogZGlnaXQ7XG5cdH1cblxuXHRyZXR1cm4gZGVjO1xufTtcbiIsIlxuLyoqXG4gKiBGb3JtYXQgYSBkZWNpbWFsIG51bWJlciBmb3IgZGlzcGxheS5cbiAqIEFkZHMgY29sdW1uIHNlcGFyYXRvcnMgYW5kIHJlbW92ZXMgbGVhZGluZyB6ZXJvcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVjIFRoZSB1bmZvcm1hdHRlZCBkZWNpbWFsIG51bWJlclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBudW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdF9kZWMgPSAoZGVjKSA9PiB7XG5cdGxldCBtYW50aXNzYSA9ICcnO1xuXG5cdC8vIGNvbnZlcnQgdG8gc3RyaW5nXG5cdGRlYyArPSAnJztcblxuXHQvLyByZW1vdmUgY29sdW1uc1xuXHRkZWMgPSBkZWMucmVwbGFjZSgvXFxzL2csICcnKTtcblxuXHQvLyByZW1vdmUgbWFudGlzc2Fcblx0aWYgKGRlYy5pbmRleE9mKCcuJykgIT09IC0xKSB7XG5cdFx0bGV0IHBhcnRzID0gZGVjLnNwbGl0KCcuJyk7XG5cdFx0bWFudGlzc2EgKz0gJy4nICsgcGFydHNbMV07XG5cdFx0ZGVjID0gcGFydHNbMF07XG5cdH1cblxuXHQvLyByZW1vdmUgbGVhZGluZyB6ZXJvc1xuXHRkZWMgPSBkZWMucmVwbGFjZSgvXjArKFsxLTldKS8sICckMScpO1xuXG5cdC8vIGFkZCBjb2x1bW5zXG5cdGxldCBwYWRkaW5nID0gMyAtIGRlYy5sZW5ndGggJSAzO1xuXHRpZiAocGFkZGluZyA9PT0gMykgcGFkZGluZyA9IDA7XG5cdGRlYyA9ICcgJy5yZXBlYXQocGFkZGluZykgKyBkZWM7XG5cdGRlYyA9IGRlYy5yZXBsYWNlKC8oLnszfSkvZywgJyQxICcpLnRyaW0oKTtcblxuXHRyZXR1cm4gZGVjICsgbWFudGlzc2E7XG59O1xuXG4vKipcbiAqIEZvcm1hdCBhIGJpbmFyeSBudW1iZXIgYnkgcGFkZGluZyBpdCBvdXQgd2l0aCB6ZXJvcyBhbmQgYWRkaW5nIGNvbHVtbiBzZXBhcmF0b3JzXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluIFRoZSB1bmZvcm1hdHRlZCBiaW5hcnkgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gW2JpdHNdIEZvcmNlIG51bWJlciB0byBvY2N1cHkgYSBzZXQgbnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgYmluYXJ5IG51bWJlclxuICovXG5leHBvcnQgY29uc3QgZm9ybWF0X2JpbiA9IChiaW4sIGJpdHMpID0+IHtcblx0bGV0IG1hbnRpc3NhID0gJyc7XG5cdGJpbiArPSAnJztcblxuXHQvLyByZW1vdmUgY29sdW1uc1xuXHRiaW4gPSBiaW4ucmVwbGFjZSgvXFxzL2csICcnKTtcblxuXHQvLyByZW1vdmUgbWFudGlzc2Fcblx0aWYgKGJpbi5pbmRleE9mKCcuJykgIT09IC0xKSB7XG5cdFx0bGV0IHBhcnRzID0gYmluLnNwbGl0KCcuJyk7XG5cdFx0Y29uc29sZS5sb2cocGFydHMpO1xuXHRcdG1hbnRpc3NhID0gJy4nICsgcGFydHNbMV07XG5cdFx0YmluID0gcGFydHNbMF07XG5cdH1cblxuXHQvLyByZW1vdmUgbGVhZGluZyB6ZXJvc1xuXHRiaW4gPSBiaW4ucmVwbGFjZSgvXjArKFteMF0pLywgJyQxJyk7XG5cblx0bGV0IHBhZGRpbmcgPSAwO1xuXG5cdGlmIChiaXRzKSB7XG5cdFx0cGFkZGluZyA9IGJpdHMgLSBiaW4ubGVuZ3RoO1xuXHR9IGVsc2Uge1xuXHRcdHBhZGRpbmcgPSA0IC0gYmluLmxlbmd0aCAlIDQ7XG5cdFx0aWYgKHBhZGRpbmcgPT09IDQpIHBhZGRpbmcgPSAwO1xuXHR9XG5cblx0YmluID0gJzAnLnJlcGVhdChwYWRkaW5nKSArIGJpbjtcblx0YmluID0gYmluLnJlcGxhY2UoLyguezR9KS9nLCAnJDEgJykudHJpbSgpO1xuXG5cdHJldHVybiBiaW4gKyBtYW50aXNzYTtcbn07XG4iLCIvKipcbiAqIEZpbmQgdGhlIHR3bydzIGNvbXBsZW1lbnQgb2YgYSBiaW5hcnkgbnVtYmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluIFRoZSBvcmlnaW5hbCBkZWNpbWFsIG51bWJlclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHR3bydzIGNvbXBsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IHR3b3Njb21wID0gKGJpbikgPT4ge1xuXHRjb25zdCBvcmlnID0gYmluLnNwbGl0KCcnKS5yZXZlcnNlKCk7XG5cdGNvbnN0IGJpdHMgPSBvcmlnLmxlbmd0aDtcblx0bGV0IGNvbXAgPSBbXTtcblxuXHRsZXQgaSA9IDA7XG5cblx0d2hpbGUgKGkgPCBiaXRzICYmIG9yaWdbaV0gIT09ICcxJykge1xuXHRcdGNvbXBbaV0gPSBvcmlnW2ldO1xuXHRcdCsraTtcblx0fVxuXG5cdGlmIChpID49IGJpdHMpIHtcblx0XHRyZXR1cm4gY29tcC5yZXZlcnNlKCkuam9pbignJyk7XG5cdH1cblxuXHRjb21wW2ldID0gJzEnO1xuXHQrK2k7XG5cblx0d2hpbGUgKGkgPCBiaXRzKSB7XG5cdFx0aWYgKG9yaWdbaV0gPT09ICcxJykge1xuXHRcdFx0Y29tcFtpXSA9ICcwJztcblx0XHR9IGVsc2UgaWYgKG9yaWdbaV0gPT09ICcwJykge1xuXHRcdFx0Y29tcFtpXSA9ICcxJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29tcFtpXSA9IG9yaWdbaV07XG5cdFx0fVxuXG5cdFx0KytpO1xuXHR9XG5cblx0cmV0dXJuIGNvbXAucmV2ZXJzZSgpLmpvaW4oJycpO1xufTtcbiIsImltcG9ydCB7Zm9ybWF0X2Jpbn0gZnJvbSAnLi9saWIvZm9ybWF0JztcbmltcG9ydCB7YmluMmRlYywgZGVjMmJpbn0gZnJvbSAnLi9saWIvY29udic7XG5pbXBvcnQge3R3b3Njb21wfSBmcm9tICcuL2xpYi90d29zY29tcCc7XG5cbmNvbnN0IG9yaWdfYmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yaWdfYmluYXJ5Jyk7XG5jb25zdCBvcmlnX2RlYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmlnX2RlY2ltYWwnKTtcbmNvbnN0IGNvbXBfYmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBfYmluYXJ5Jyk7XG5jb25zdCBjb21wX2RlYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wX2RlY2ltYWwnKTtcblxub3JpZ19iaW4uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdGxldCBiaW5hcnkgPSBmb3JtYXRfYmluKHRoaXMudmFsdWUpO1xuXHRsZXQgZGVjaW1hbCA9IGJpbjJkZWMoYmluYXJ5KTtcblx0bGV0IGNvbXAgPSB0d29zY29tcChiaW5hcnkpO1xuXG5cdG9yaWdfYmluLnZhbHVlID0gYmluYXJ5O1xuXHRjb21wX2Jpbi52YWx1ZSA9IGNvbXA7XG5cblx0b3JpZ19kZWMudmFsdWUgPSBkZWNpbWFsO1xuXHRjb21wX2RlYy52YWx1ZSA9IGRlY2ltYWwgKiAtMTtcbn0pO1xuXG5jb21wX2Jpbi5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblx0bGV0IGNvbXAgPSBmb3JtYXRfYmluKHRoaXMudmFsdWUpO1xuXHRsZXQgYmluYXJ5ID0gdHdvc2NvbXAoY29tcCk7XG5cdGxldCBkZWNpbWFsID0gYmluMmRlYyhiaW5hcnkpO1xuXG5cdG9yaWdfYmluLnZhbHVlID0gYmluYXJ5O1xuXHRjb21wX2Jpbi52YWx1ZSA9IGNvbXA7XG5cblx0b3JpZ19kZWMudmFsdWUgPSBkZWNpbWFsO1xuXHRjb21wX2RlYy52YWx1ZSA9IGRlY2ltYWwgKiAtMTtcbn0pO1xuXG5vcmlnX2RlYy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblx0bGV0IGRlY2ltYWwgPSB0aGlzLnZhbHVlICogMTtcblx0aWYgKGlzTmFOKGRlY2ltYWwpKSByZXR1cm47XG5cblx0bGV0IGJpbmFyeSA9IGZvcm1hdF9iaW4oZGVjMmJpbihkZWNpbWFsKSk7XG5cdGxldCBjb21wID0gdHdvc2NvbXAoYmluYXJ5KTtcblxuXHRvcmlnX2Jpbi52YWx1ZSA9IGJpbmFyeTtcblx0Y29tcF9iaW4udmFsdWUgPSBjb21wO1xuXHRjb21wX2RlYy52YWx1ZSA9IGRlY2ltYWwgKiAtMTtcbn0pO1xuXG5cbmNvbXBfZGVjLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuXHRsZXQgZGVjaW1hbCA9IHRoaXMudmFsdWUgKiAtMTtcblx0aWYgKGlzTmFOKGRlY2ltYWwpKSByZXR1cm47XG5cblx0bGV0IGJpbmFyeSA9IGZvcm1hdF9iaW4oZGVjMmJpbihkZWNpbWFsKSk7XG5cdGxldCBjb21wID0gdHdvc2NvbXAoYmluYXJ5KTtcblxuXHRvcmlnX2Jpbi52YWx1ZSA9IGJpbmFyeTtcblx0Y29tcF9iaW4udmFsdWUgPSBjb21wO1xuXHRvcmlnX2RlYy52YWx1ZSA9IGRlY2ltYWw7XG59KTtcbiJdfQ==\n"],"file":"twos.js"}