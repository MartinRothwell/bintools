{"version":3,"sources":["floatconv.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","binary_input","decimal_input","bits","pad","_conv","_twoscomp","document","getElementById","s","char","addEventListener","bin","this","value","replace","sign","substr","exp","mantissa","console","log","bin2dec","twoscomp","Math","pow","dec","dec2bin","_i","int","floor","repeat","./lib/conv","./lib/twoscomp","2","Object","defineProperty","hex2dec","dec2hex","indexOf","parts","split","mant","j","reverse","join","mant_limit","isNaN","bin_mant","hex","charAt","toUpperCase","digit","3","orig","comp"],"mappings":"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","file":"floatconv.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _conv = require(\"./lib/conv\");\n\nvar _twoscomp = require(\"./lib/twoscomp\");\n\n(function () {\n  var binary_input = document.getElementById('binary');\n  var decimal_input = document.getElementById('decimal');\n  var bits = {\n    sign: 1,\n    exp: 3,\n    mantissa: 5\n  };\n  /**\n   * Pad a string with a leading character so it\n   * is a fixed length\n   * @param {string|number} s String to pad\n   * @param {number} length Desired length of string\n   * @param {string} [char] Character pad with\n   * @returns {string}\n   */\n\n  var pad = function pad(s, length, char) {\n    s += '';\n    char = char || '0';\n\n    while (s.length < length) {\n      s = char + s;\n    }\n\n    return s;\n  };\n\n  binary_input.addEventListener('input', function () {\n    var bin = this.value.replace(/[^01]/g, '');\n\n    if (bin.length > bits.sign + bits.exp + bits.mantissa) {\n      decimal_input.value = 'too many bits';\n      return;\n    }\n\n    if (bin.length < bits.sign + bits.exp + bits.mantissa) {\n      decimal_input.value = 'not enough bits';\n      return;\n    }\n\n    var sign = bin.substr(0, bits.sign);\n    var exp = bin.substr(bits.sign, bits.exp);\n    var mantissa = bin.substr(bits.sign + bits.exp, bits.mantissa);\n    console.log('sign: ' + sign); // Convert exponent to two's complement decimal\n\n    console.log('exp: ' + exp);\n\n    if (exp[0] === '1') {\n      exp = (0, _conv.bin2dec)((0, _twoscomp.twoscomp)(exp)) * -1;\n    } else {\n      exp = (0, _conv.bin2dec)(exp);\n    }\n\n    console.log('exp: ' + exp); // Convert mantissa to decimal\n\n    mantissa /= Math.pow(10, mantissa.length);\n    console.log('mantissa: ' + mantissa);\n    mantissa = (0, _conv.bin2dec)(mantissa + '');\n    console.log('mantissa: ' + mantissa); // Calculate decimal number\n\n    var dec = mantissa * Math.pow(2, exp * 1);\n\n    if (sign === '1') {\n      dec *= -1;\n    }\n\n    decimal_input.value = dec;\n    console.log();\n  });\n  decimal_input.addEventListener('input', function () {\n    var dec = this.value.replace(/[^\\d.\\-+]/g, '') * 1; // calculate sign\n\n    var sign = '0';\n\n    if (dec < 0) {\n      sign = '1';\n      dec *= -1;\n    } // convert to binary\n\n\n    var exp = 0;\n    var mantissa = (0, _conv.dec2bin)(dec); // normalise mantissa\n\n    if (mantissa < 1) {\n      mantissa = mantissa.replace(/^0./, '');\n\n      for (var _i = 0; mantissa[_i] === '0'; ++_i, --exp) {}\n\n      mantissa = mantissa.substr(i);\n    } else {\n      // calculate exponent\n      var int = Math.floor(mantissa * 1) + '';\n      exp = '0' === int ? 0 : int.length;\n      mantissa = mantissa.replace(/^0+|0+$|\\./g, '');\n    } // convert to required size\n\n\n    mantissa = mantissa.substr(0, bits.mantissa);\n    mantissa += '0'.repeat(bits.mantissa - mantissa.length); // convert exponent to binary\n\n    if (exp < 0) {\n      exp = (0, _conv.dec2bin)(-exp);\n      exp = (0, _twoscomp.twoscomp)(pad(exp, bits.exp));\n    } else {\n      exp = pad((0, _conv.dec2bin)(exp), bits.exp);\n    } // display result\n\n\n    binary_input.value = sign + ' ' + exp + ' ' + mantissa;\n  });\n})();\n\n},{\"./lib/conv\":2,\"./lib/twoscomp\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hex2dec = exports.dec2hex = exports.dec2bin = exports.bin2dec = void 0;\n\n/**\n * Convert a binary string into its base 10 equivalent\n * @param {string} bin The number in base 2\n * @returns {number} The number in base 10\n */\nvar bin2dec = function bin2dec(bin) {\n  var dec = 0;\n  bin = bin.replace(/\\s/g, ''); // Convert the fractional part first\n\n  if (bin.indexOf('.') !== -1) {\n    var parts = bin.split('.');\n    var mant = parts[1];\n    bin = parts[0];\n\n    for (var j = 0; j < mant.length; ++j) {\n      if (mant[j] === '1') {\n        dec += 1 / Math.pow(2, j + 1);\n      }\n    }\n  }\n\n  bin = bin.split('').reverse().join('');\n\n  for (var i = bin.length - 1; i >= 0; --i) {\n    if (bin[i] === '1') {\n      dec += Math.pow(2, i);\n    }\n  }\n\n  return dec;\n};\n/**\n * Convert a decimal number into its binary equivalent\n * @param {number} dec The number in base 2\n * @param {number} [mant_limit] The maximum number of bits to use in the mantissa\n * @returns {string} The number in base 10\n */\n\n\nexports.bin2dec = bin2dec;\n\nvar dec2bin = function dec2bin(dec, mant_limit) {\n  var bin = [];\n  dec *= 1;\n\n  if (isNaN(dec) || dec === 0) {\n    return '0';\n  } // Convert the fractional part first\n\n\n  if (Math.floor(dec) !== dec) {\n    var bin_mant = '.';\n    var mant = dec % 1;\n\n    for (var j = 0; mant !== 0 && (!mant_limit || j < mant_limit); ++j) {\n      mant *= 2;\n      bin_mant += Math.floor(mant);\n      mant %= 1;\n    }\n\n    return dec2bin(Math.floor(dec)) + bin_mant;\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(2));\n\n  while (pow >= 0) {\n    if (dec - Math.pow(2, pow) >= 0) {\n      dec -= Math.pow(2, pow);\n      bin[pow] = '1';\n    } else {\n      bin[pow] = '0';\n    }\n\n    --pow;\n  }\n\n  return bin.reverse().join('');\n};\n/**\n * Convert a decimal number into its hexadecimal equivalent\n * @param {number} dec The number in base 10\n * @returns {string} The number in base 16\n */\n\n\nexports.dec2bin = dec2bin;\n\nvar dec2hex = function dec2hex(dec) {\n  var alpha = '0123456789ABCDEF';\n  var hex = [];\n  dec = Math.floor(dec);\n\n  if (dec === 0) {\n    return '0';\n  } // find biggest significant figure\n\n\n  var pow = Math.floor(Math.log(dec) / Math.log(16));\n\n  while (pow >= 0) {\n    hex[pow] = Math.floor(dec / Math.pow(16, pow));\n    hex[pow] = alpha.charAt(hex[pow]);\n    dec %= Math.pow(16, pow);\n    --pow;\n  }\n\n  return hex.reverse().join('');\n};\n/**\n * Convert a hexadecimal number into its decimal equivalent\n * @param {string} hex The number in base 16\n * @returns {number} The number in base 10\n */\n\n\nexports.dec2hex = dec2hex;\n\nvar hex2dec = function hex2dec(hex) {\n  var alpha = '0123456789ABCDEF';\n  var dec = 0;\n  hex = hex.toUpperCase();\n  hex = hex.split('').reverse().join('');\n\n  for (var i = hex.length - 1; i >= 0; --i) {\n    var digit = alpha.indexOf(hex[i]);\n    dec += Math.pow(16, i) * digit;\n  }\n\n  return dec;\n};\n\nexports.hex2dec = hex2dec;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.twoscomp = void 0;\n\n/**\n * Find the two's complement of a binary number\n * @param {string} bin The original decimal number\n * @returns {string} The two's complement\n */\nvar twoscomp = function twoscomp(bin) {\n  var orig = bin.split('').reverse();\n  var bits = orig.length;\n  var comp = [];\n  var i = 0;\n\n  while (i < bits && orig[i] !== '1') {\n    comp[i] = orig[i];\n    ++i;\n  }\n\n  if (i >= bits) {\n    return comp.reverse().join('');\n  }\n\n  comp[i] = '1';\n  ++i;\n\n  while (i < bits) {\n    if (orig[i] === '1') {\n      comp[i] = '0';\n    } else if (orig[i] === '0') {\n      comp[i] = '1';\n    } else {\n      comp[i] = orig[i];\n    }\n\n    ++i;\n  }\n\n  return comp.reverse().join('');\n};\n\nexports.twoscomp = twoscomp;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9mbG9hdGNvbnYuanMiLCJqcy9saWIvY29udi5qcyIsImpzL2xpYi90d29zY29tcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7O0FBQ0E7O0FBRUEsQ0FBQyxZQUFZO0FBQ1osTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBckI7QUFDQSxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixTQUF4QixDQUF0QjtBQUVBLE1BQUksSUFBSSxHQUFHO0FBQ1YsSUFBQSxJQUFJLEVBQUUsQ0FESTtBQUVWLElBQUEsR0FBRyxFQUFFLENBRks7QUFHVixJQUFBLFFBQVEsRUFBRTtBQUhBLEdBQVg7QUFNQTs7Ozs7Ozs7O0FBUUEsTUFBTSxHQUFHLEdBQUcsU0FBTixHQUFNLENBQUMsQ0FBRCxFQUFJLE1BQUosRUFBWSxJQUFaLEVBQXFCO0FBQ2hDLElBQUEsQ0FBQyxJQUFJLEVBQUw7QUFDQSxJQUFBLElBQUksR0FBRyxJQUFJLElBQUksR0FBZjs7QUFFQSxXQUFPLENBQUMsQ0FBQyxNQUFGLEdBQVcsTUFBbEIsRUFBMEI7QUFDekIsTUFBQSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQVg7QUFDQTs7QUFFRCxXQUFPLENBQVA7QUFDQSxHQVREOztBQVdBLEVBQUEsWUFBWSxDQUFDLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLFlBQVk7QUFDbEQsUUFBSSxHQUFHLEdBQUcsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixRQUFuQixFQUE2QixFQUE3QixDQUFWOztBQUVBLFFBQUksR0FBRyxDQUFDLE1BQUosR0FBYSxJQUFJLENBQUMsSUFBTCxHQUFZLElBQUksQ0FBQyxHQUFqQixHQUF1QixJQUFJLENBQUMsUUFBN0MsRUFBdUQ7QUFDdEQsTUFBQSxhQUFhLENBQUMsS0FBZCxHQUFzQixlQUF0QjtBQUNBO0FBQ0E7O0FB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QUFxQjtBQUNwQixNQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVSxHQUFWO0FBQ0EsS0FGRCxNQUVPLElBQUksSUFBSSxDQUFDLENBQUQsQ0FBSixLQUFZLEdBQWhCLEVBQXFCO0FBQzNCLE1BQUEsSUFBSSxDQUFDLENBQUQsQ0FBSixHQUFVLEdBQVY7QUFDQSxLQUZNLE1BRUE7QUFDTixNQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVSxJQUFJLENBQUMsQ0FBRCxDQUFkO0FBQ0E7O0FBRUQsTUFBRSxDQUFGO0FBQ0E7O0FBRUQsU0FBTyxJQUFJLENBQUMsT0FBTCxHQUFlLElBQWYsQ0FBb0IsRUFBcEIsQ0FBUDtBQUNBLENBaENNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHtiaW4yZGVjLCBkZWMyYmlufSBmcm9tICcuL2xpYi9jb252JztcbmltcG9ydCB7dHdvc2NvbXB9IGZyb20gJy4vbGliL3R3b3Njb21wJztcblxuKGZ1bmN0aW9uICgpIHtcblx0Y29uc3QgYmluYXJ5X2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbmFyeScpO1xuXHRjb25zdCBkZWNpbWFsX2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY2ltYWwnKTtcblxuXHRsZXQgYml0cyA9IHtcblx0XHRzaWduOiAxLFxuXHRcdGV4cDogMyxcblx0XHRtYW50aXNzYTogNVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQYWQgYSBzdHJpbmcgd2l0aCBhIGxlYWRpbmcgY2hhcmFjdGVyIHNvIGl0XG5cdCAqIGlzIGEgZml4ZWQgbGVuZ3RoXG5cdCAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcyBTdHJpbmcgdG8gcGFkXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggRGVzaXJlZCBsZW5ndGggb2Ygc3RyaW5nXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcl0gQ2hhcmFjdGVyIHBhZCB3aXRoXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAqL1xuXHRjb25zdCBwYWQgPSAocywgbGVuZ3RoLCBjaGFyKSA9PiB7XG5cdFx0cyArPSAnJztcblx0XHRjaGFyID0gY2hhciB8fCAnMCc7XG5cblx0XHR3aGlsZSAocy5sZW5ndGggPCBsZW5ndGgpIHtcblx0XHRcdHMgPSBjaGFyICsgcztcblx0XHR9XG5cblx0XHRyZXR1cm4gcztcblx0fTtcblxuXHRiaW5hcnlfaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0bGV0IGJpbiA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wMV0vZywgJycpO1xuXG5cdFx0aWYgKGJpbi5sZW5ndGggPiBiaXRzLnNpZ24gKyBiaXRzLmV4cCArIGJpdHMubWFudGlzc2EpIHtcblx0XHRcdGRlY2ltYWxfaW5wdXQudmFsdWUgPSAndG9vIG1hbnkgYml0cyc7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGJpbi5sZW5ndGggPCBiaXRzLnNpZ24gKyBiaXRzLmV4cCArIGJpdHMubWFudGlzc2EpIHtcblx0XHRcdGRlY2ltYWxfaW5wdXQudmFsdWUgPSAnbm90IGVub3VnaCBiaXRzJztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgc2lnbiA9IGJpbi5zdWJzdHIoMCwgYml0cy5zaWduKTtcblx0XHRsZXQgZXhwID0gYmluLnN1YnN0cihiaXRzLnNpZ24sIGJpdHMuZXhwKTtcblx0XHRsZXQgbWFudGlzc2EgPSBiaW4uc3Vic3RyKGJpdHMuc2lnbiArIGJpdHMuZXhwLCBiaXRzLm1hbnRpc3NhKTtcblxuXHRcdGNvbnNvbGUubG9nKCdzaWduOiAnICsgc2lnbik7XG5cblx0XHQvLyBDb252ZXJ0IGV4cG9uZW50IHRvIHR3bydzIGNvbXBsZW1lbnQgZGVjaW1hbFxuXHRcdGNvbnNvbGUubG9nKCdleHA6ICcgKyBleHApO1xuXHRcdGlmIChleHBbMF0gPT09ICcxJykge1xuXHRcdFx0ZXhwID0gYmluMmRlYyh0d29zY29tcChleHApKSAqIC0xO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHAgPSBiaW4yZGVjKGV4cCk7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKCdleHA6ICcgKyBleHApO1xuXG5cdFx0Ly8gQ29udmVydCBtYW50aXNzYSB0byBkZWNpbWFsXG5cdFx0bWFudGlzc2EgLz0gTWF0aC5wb3coMTAsIG1hbnRpc3NhLmxlbmd0aCk7XG5cdFx0Y29uc29sZS5sb2coJ21hbnRpc3NhOiAnICsgbWFudGlzc2EpO1xuXHRcdG1hbnRpc3NhID0gYmluMmRlYyhtYW50aXNzYSArICcnKTtcblx0XHRjb25zb2xlLmxvZygnbWFudGlzc2E6ICcgKyBtYW50aXNzYSk7XG5cblx0XHQvLyBDYWxjdWxhdGUgZGVjaW1hbCBudW1iZXJcblx0XHRsZXQgZGVjID0gbWFudGlzc2EgKiBNYXRoLnBvdygyLCBleHAqMSk7XG5cblx0XHRpZiAoc2lnbiA9PT0gJzEnKSB7XG5cdFx0XHRkZWMgKj0gLTE7XG5cdFx0fVxuXG5cdFx0ZGVjaW1hbF9pbnB1dC52YWx1ZSA9IGRlYztcblx0XHRjb25zb2xlLmxvZygpO1xuXHR9KTtcblxuXHRkZWNpbWFsX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuXHRcdGxldCBkZWMgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teXFxkLlxcLStdL2csICcnKSAqIDE7XG5cblx0XHQvLyBjYWxjdWxhdGUgc2lnblxuXHRcdGxldCBzaWduID0gJzAnO1xuXHRcdGlmIChkZWMgPCAwKSB7XG5cdFx0XHRzaWduID0gJzEnO1xuXHRcdFx0ZGVjICo9IC0xO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdG8gYmluYXJ5XG5cdFx0bGV0IGV4cCA9IDA7XG5cdFx0bGV0IG1hbnRpc3NhID0gZGVjMmJpbihkZWMpO1xuXG5cdFx0Ly8gbm9ybWFsaXNlIG1hbnRpc3NhXG5cdFx0aWYgKG1hbnRpc3NhIDwgMSkge1xuXHRcdFx0bWFudGlzc2EgPSBtYW50aXNzYS5yZXBsYWNlKC9eMC4vLCAnJyk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgbWFudGlzc2FbaV0gPT09ICcwJzsgKytpLCAtLWV4cCkge31cblx0XHRcdG1hbnRpc3NhID0gbWFudGlzc2Euc3Vic3RyKGkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBjYWxjdWxhdGUgZXhwb25lbnRcblx0XHRcdGxldCBpbnQgPSAoTWF0aC5mbG9vcihtYW50aXNzYSAqIDEpICsgJycpO1xuXHRcdFx0ZXhwID0gJzAnID09PSBpbnQgPyAwIDogaW50Lmxlbmd0aDtcblx0XHRcdG1hbnRpc3NhID0gbWFudGlzc2EucmVwbGFjZSgvXjArfDArJHxcXC4vZywgJycpO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdG8gcmVxdWlyZWQgc2l6ZVxuXHRcdG1hbnRpc3NhID0gbWFudGlzc2Euc3Vic3RyKDAsIGJpdHMubWFudGlzc2EpO1xuXHRcdG1hbnRpc3NhICs9ICcwJy5yZXBlYXQoYml0cy5tYW50aXNzYSAtIG1hbnRpc3NhLmxlbmd0aCk7XG5cblx0XHQvLyBjb252ZXJ0IGV4cG9uZW50IHRvIGJpbmFyeVxuXHRcdGlmIChleHAgPCAwKSB7XG5cdFx0XHRleHAgPSBkZWMyYmluKC1leHApO1xuXHRcdFx0ZXhwID0gdHdvc2NvbXAocGFkKGV4cCwgYml0cy5leHApKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwID0gcGFkKGRlYzJiaW4oZXhwKSwgYml0cy5leHApO1xuXHRcdH1cblxuXHRcdC8vIGRpc3BsYXkgcmVzdWx0XG5cdFx0YmluYXJ5X2lucHV0LnZhbHVlID0gc2lnbiArICcgJyArIGV4cCArICcgJyArIG1hbnRpc3NhO1xuXHR9KTtcblxufSkoKTtcbiIsIlxuLyoqXG4gKiBDb252ZXJ0IGEgYmluYXJ5IHN0cmluZyBpbnRvIGl0cyBiYXNlIDEwIGVxdWl2YWxlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW4gVGhlIG51bWJlciBpbiBiYXNlIDJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBudW1iZXIgaW4gYmFzZSAxMFxuICovXG5leHBvcnQgY29uc3QgYmluMmRlYyA9IChiaW4pID0+IHtcblx0bGV0IGRlYyA9IDA7XG5cdGJpbiA9IGJpbi5yZXBsYWNlKC9cXHMvZywgJycpO1xuXG5cdC8vIENvbnZlcnQgdGhlIGZyYWN0aW9uYWwgcGFydCBmaXJzdFxuXHRpZiAoYmluLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcblx0XHRsZXQgcGFydHMgPSBiaW4uc3BsaXQoJy4nKTtcblx0XHRsZXQgbWFudCA9IHBhcnRzWzFdO1xuXHRcdGJpbiA9IHBhcnRzWzBdO1xuXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBtYW50Lmxlbmd0aDsgKytqKSB7XG5cdFx0XHRpZiAobWFudFtqXSA9PT0gJzEnKSB7XG5cdFx0XHRcdGRlYyArPSAxL01hdGgucG93KDIsIGorMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YmluID0gYmluLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG5cblx0Zm9yIChsZXQgaSA9IGJpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuXG5cdFx0aWYgKGJpbltpXSA9PT0gJzEnKSB7XG5cdFx0XHRkZWMgKz0gTWF0aC5wb3coMiwgaSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRlYztcbn07XG5cbi8qKlxuICogQ29udmVydCBhIGRlY2ltYWwgbnVtYmVyIGludG8gaXRzIGJpbmFyeSBlcXVpdmFsZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZGVjIFRoZSBudW1iZXIgaW4gYmFzZSAyXG4gKiBAcGFyYW0ge251bWJlcn0gW21hbnRfbGltaXRdIFRoZSBtYXhpbXVtIG51bWJlciBvZiBiaXRzIHRvIHVzZSBpbiB0aGUgbWFudGlzc2FcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBudW1iZXIgaW4gYmFzZSAxMFxuICovXG5leHBvcnQgY29uc3QgZGVjMmJpbiA9IChkZWMsIG1hbnRfbGltaXQpID0+IHtcblx0bGV0IGJpbiA9IFtdO1xuXHRkZWMgKj0gMTtcblxuXHRpZiAoaXNOYU4oZGVjKSB8fCBkZWMgPT09IDApIHtcblx0XHRyZXR1cm4gJzAnO1xuXHR9XG5cblx0Ly8gQ29udmVydCB0aGUgZnJhY3Rpb25hbCBwYXJ0IGZpcnN0XG5cdGlmIChNYXRoLmZsb29yKGRlYykgIT09IGRlYykge1xuXHRcdGxldCBiaW5fbWFudCA9ICcuJztcblx0XHRsZXQgbWFudCA9IGRlYyAlIDE7XG5cblx0XHRmb3IgKGxldCBqID0gMDsgbWFudCAhPT0gMCAmJiAoIW1hbnRfbGltaXQgfHwgaiA8IG1hbnRfbGltaXQpOyArK2opIHtcblx0XHRcdG1hbnQgKj0gMjtcblx0XHRcdGJpbl9tYW50ICs9IE1hdGguZmxvb3IobWFudCk7XG5cdFx0XHRtYW50ICU9IDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYzJiaW4oTWF0aC5mbG9vcihkZWMpKSArIGJpbl9tYW50O1xuXHR9XG5cblx0Ly8gZmluZCBiaWdnZXN0IHNpZ25pZmljYW50IGZpZ3VyZVxuXHRsZXQgcG93ID0gTWF0aC5mbG9vcihNYXRoLmxvZyhkZWMpL01hdGgubG9nKDIpKTtcblxuXHR3aGlsZSAocG93ID49IDApIHtcblx0XHRpZiAoZGVjIC0gTWF0aC5wb3coMiwgcG93KSA+PSAwKSB7XG5cdFx0XHRkZWMgLT0gTWF0aC5wb3coMiwgcG93KTtcblx0XHRcdGJpbltwb3ddID0gJzEnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRiaW5bcG93XSA9ICcwJztcblx0XHR9XG5cblx0XHQtLXBvdztcblx0fVxuXG5cdHJldHVybiBiaW4ucmV2ZXJzZSgpLmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGVjaW1hbCBudW1iZXIgaW50byBpdHMgaGV4YWRlY2ltYWwgZXF1aXZhbGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGRlYyBUaGUgbnVtYmVyIGluIGJhc2UgMTBcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBudW1iZXIgaW4gYmFzZSAxNlxuICovXG5leHBvcnQgY29uc3QgZGVjMmhleCA9IChkZWMpID0+IHtcblx0Y29uc3QgYWxwaGEgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG5cdGxldCBoZXggPSBbXTtcblx0ZGVjID0gTWF0aC5mbG9vcihkZWMpO1xuXG5cdGlmIChkZWMgPT09IDApIHtcblx0XHRyZXR1cm4gJzAnO1xuXHR9XG5cblx0Ly8gZmluZCBiaWdnZXN0IHNpZ25pZmljYW50IGZpZ3VyZVxuXHRsZXQgcG93ID0gTWF0aC5mbG9vcihNYXRoLmxvZyhkZWMpL01hdGgubG9nKDE2KSk7XG5cblx0d2hpbGUgKHBvdyA+PSAwKSB7XG5cdFx0aGV4W3Bvd10gPSBNYXRoLmZsb29yKGRlYyAvIE1hdGgucG93KDE2LCBwb3cpKTtcblx0XHRoZXhbcG93XSA9IGFscGhhLmNoYXJBdChoZXhbcG93XSk7XG5cdFx0ZGVjICU9IE1hdGgucG93KDE2LCBwb3cpO1xuXHRcdC0tcG93O1xuXHR9XG5cblx0cmV0dXJuIGhleC5yZXZlcnNlKCkuam9pbignJyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBoZXhhZGVjaW1hbCBudW1iZXIgaW50byBpdHMgZGVjaW1hbCBlcXVpdmFsZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4IFRoZSBudW1iZXIgaW4gYmFzZSAxNlxuICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBpbiBiYXNlIDEwXG4gKi9cbmV4cG9ydCBjb25zdCBoZXgyZGVjID0gKGhleCkgPT4ge1xuXHRjb25zdCBhbHBoYSA9ICcwMTIzNDU2Nzg5QUJDREVGJztcblx0bGV0IGRlYyA9IDA7XG5cdGhleCA9IGhleC50b1VwcGVyQ2FzZSgpO1xuXHRoZXggPSBoZXguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcblxuXHRmb3IgKGxldCBpID0gaGV4Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cdFx0bGV0IGRpZ2l0ID0gYWxwaGEuaW5kZXhPZihoZXhbaV0pO1xuXHRcdGRlYyArPSBNYXRoLnBvdygxNiwgaSkgKiBkaWdpdDtcblx0fVxuXG5cdHJldHVybiBkZWM7XG59O1xuIiwiLyoqXG4gKiBGaW5kIHRoZSB0d28ncyBjb21wbGVtZW50IG9mIGEgYmluYXJ5IG51bWJlclxuICogQHBhcmFtIHtzdHJpbmd9IGJpbiBUaGUgb3JpZ2luYWwgZGVjaW1hbCBudW1iZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB0d28ncyBjb21wbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCB0d29zY29tcCA9IChiaW4pID0+IHtcblx0Y29uc3Qgb3JpZyA9IGJpbi5zcGxpdCgnJykucmV2ZXJzZSgpO1xuXHRjb25zdCBiaXRzID0gb3JpZy5sZW5ndGg7XG5cdGxldCBjb21wID0gW107XG5cblx0bGV0IGkgPSAwO1xuXG5cdHdoaWxlIChpIDwgYml0cyAmJiBvcmlnW2ldICE9PSAnMScpIHtcblx0XHRjb21wW2ldID0gb3JpZ1tpXTtcblx0XHQrK2k7XG5cdH1cblxuXHRpZiAoaSA+PSBiaXRzKSB7XG5cdFx0cmV0dXJuIGNvbXAucmV2ZXJzZSgpLmpvaW4oJycpO1xuXHR9XG5cblx0Y29tcFtpXSA9ICcxJztcblx0KytpO1xuXG5cdHdoaWxlIChpIDwgYml0cykge1xuXHRcdGlmIChvcmlnW2ldID09PSAnMScpIHtcblx0XHRcdGNvbXBbaV0gPSAnMCc7XG5cdFx0fSBlbHNlIGlmIChvcmlnW2ldID09PSAnMCcpIHtcblx0XHRcdGNvbXBbaV0gPSAnMSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbXBbaV0gPSBvcmlnW2ldO1xuXHRcdH1cblxuXHRcdCsraTtcblx0fVxuXG5cdHJldHVybiBjb21wLnJldmVyc2UoKS5qb2luKCcnKTtcbn07XG4iXX0=\n"]}